# Taboola widget 

Taboola Recommendations Widget

## Usage:

Reference the widget library and create a widget instance passing your publisher id, app type and api key.
```html
<head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="twidget.min.js"></script>
    <script>
        var twidget = new TWidget(
            "taboola-templates",
            "desktop",
            "f9040ab1b9c802857aa783c469d0e0ff7e7366e4"
        );
    </script>
</head>
```

Register a widget instance giving it an element id, type and amount of items to return.

Using the register return promise we can perform actions after element is populated. 

In the example the element's style is set to 'block'.
```html
 <div id="taboola_recommendations" class="t-box">
         <div id="widget_container">
                    <script>
                        // publishers can provide a different template (optional) as last parameter to the register function
                        twidget.register("widget_container", "video", 6).then(function (element) {
                            taboola_recommendations.style.display = "block";
                        });
                    </script>
                </div>
 </div>

```

You can customize the item rendering by giving your own template.

```html
<div id="twidget_container"  class="tcontainer">
    <script>
        twidget.register("twidget_container","video", 6, function(item){
            // My Custom DOM Template
            return "<div>" +
                "<a href='"+item.url+"' target='_blank'>" +
                    "<div style='background-image:url(\"" + item.thumbnail +"\")'>" +
                        "<span class='branding'>"+item.branding+"</span>" +
                    "</div>" +
                    "<div>" +
                        item.name +
                    "</div>" +
                    "</div>" +
                "</a>" +
            "</div>"
        }).then(function(){
            twidget_container.style.display = "block";
        });
    </script>
</div>
```

For the widgets to be populated you need to call the build function at the end of the html page.

```html
    <script>
        twidget.build();
    </script>
</body>
```

## Source Files:

* _twidget.js_ - ES6 implementation of the JS TWidget library.
* _twidget.es5.js_ - ES5 implementation of the JS TWidget library (generated by running the build task using babel). 
* _twidget.min.js_ - ES5 implementation of the JS TWidget library (generated by running the build task using uglifyjs). 
* _index.html_ - Sample HTML usage of the widget.
* _style.css_ - Sample CSS usage of the widget. By default the widget is generated with these classes.